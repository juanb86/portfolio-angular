<section id="experiencia" class="section-padding">
  <div class="container px-4 py-5">
    <div class="container px-4 py-5">
      <h3 class="heading-info mb-4">
        <span class="me-2"
          ><svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"
            width="1em"
            height="1em"
            class="green-point"
          >
            <path
              d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"
            /></svg></span
        >Diseño y desarrollo de sitios web para diversas empresas y
        organizaciones
      </h3>
      <h2 class="heading-title2">Experiencia en Desarrollo Web</h2>
      <p>
        Creación de soluciones web personalizadas utilizando diversas
        tecnologías y plataformas para satisfacer las necesidades de los
        clientes.
      </p>
      <div class="mt-3 py-5">
        <div class="feature row mb-4" *ngFor="let experiencia of experiencias">
          <div *ngIf="modificandoExperienciaId !== experiencia.id">
            <div *ngIf="estaAutenticado" class="mb-3 w-full text-end">
              <button
                class="btn btn-success btn-solid"
                (click)="
                  abrirFormularioModificacionExperiencia(experiencia.id);
                  establecerValoresExperiencia(experiencia)
                "
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 512 512"
                  width="1em"
                  height="1em"
                >
                  <path
                    d="M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"
                  />
                </svg>
              </button>
              <button
                class="btn btn-danger btn-ghost m-1"
                (click)="borrarExperiencia(experiencia.id)"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 448 512"
                  width="1em"
                  height="1em"
                >
                  <path
                    d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"
                  />
                </svg>
              </button>
            </div>
            <div class="col-10">
              <p class="mb-1">
                <span class="fw-bold">Cliente: </span>{{ experiencia?.cliente }}
              </p>
              <h5 class="mb-2 fs-3 fw-bold">{{ experiencia?.ocupacion }}</h5>
              <h3 class="mb-3 fs-6 text-uppercase header-color">
                {{ experiencia?.tecnologias }}
              </h3>
              <p>
                {{ experiencia?.descripcion }}
              </p>
            </div>
            <div class="col-10 col-lg-2">
              <h3 class="fs-6 fw-bold text-uppercase">
                {{ experiencia?.fechaInicio }}
              </h3>
              <h3 class="fs-6 fw-bold text-uppercase">
                {{ experiencia?.fechaFin }}
              </h3>
            </div>
          </div>
          <div *ngIf="modificandoExperienciaId === experiencia.id" class="">
            <form
              [formGroup]="formModificarExperiencia"
              class="m-3"
              (ngSubmit)="modificarExperiencia($event)"
            >
              <div class="mb-3">
                <label for="inputCliente" class="form-label login-label"
                  >Cliente</label
                >
                <input
                  type="text"
                  formControlName="cliente"
                  [ngClass]="{
                    'is-invalid':
                      valorModificarExperiencia('cliente')?.errors &&
                      valorModificarExperiencia('cliente')?.touched,
                    'is-valid':
                      !valorModificarExperiencia('cliente')?.errors &&
                      valorModificarExperiencia('cliente')?.touched
                  }"
                  class="form-control"
                  id="inputCliente"
                />
                <div
                  *ngIf="
                    valorModificarExperiencia('cliente')?.errors &&
                    valorModificarExperiencia('cliente')?.touched
                  "
                >
                  <p
                    *ngIf="
                      valorModificarExperiencia('cliente')?.hasError('required')
                    "
                    class="text-danger"
                  >
                    El campo cliente es requerido.
                  </p>
                  <p
                    *ngIf="
                      valorModificarExperiencia('cliente')?.hasError(
                        'minlength'
                      )
                    "
                    class="text-danger"
                  >
                    El campo cliente debe tener 3 o mas caracteres.
                  </p>
                </div>
              </div>
              <div class="mb-3">
                <label for="inputOcupacion" class="form-label login-label"
                  >Ocupacion</label
                >
                <input
                  type="text"
                  formControlName="ocupacion"
                  [ngClass]="{
                    'is-invalid':
                      valorModificarExperiencia('ocupacion')?.errors &&
                      valorModificarExperiencia('ocupacion')?.touched,
                    'is-valid':
                      !valorModificarExperiencia('ocupacion')?.errors &&
                      valorModificarExperiencia('ocupacion')?.touched
                  }"
                  class="form-control"
                  id="inputOcupacion"
                />
                <div
                  *ngIf="
                    valorModificarExperiencia('ocupacion')?.errors &&
                    valorModificarExperiencia('ocupacion')?.touched
                  "
                >
                  <p
                    *ngIf="
                      valorModificarExperiencia('ocupacion')?.hasError(
                        'required'
                      )
                    "
                    class="text-danger"
                  >
                    El campo ocupacion es requerido.
                  </p>
                  <p
                    *ngIf="
                      valorModificarExperiencia('ocupacion')?.hasError(
                        'minlength'
                      )
                    "
                    class="text-danger"
                  >
                    El campo ocupacion debe tener 3 o mas caracteres.
                  </p>
                </div>
              </div>
              <div class="mb-3">
                <label for="inputTecnologias" class="form-label login-label"
                  >Tecnologias</label
                >
                <input
                  type="text"
                  formControlName="tecnologias"
                  [ngClass]="{
                    'is-invalid':
                      valorModificarExperiencia('tecnologias')?.errors &&
                      valorModificarExperiencia('tecnologias')?.touched,
                    'is-valid':
                      !valorModificarExperiencia('tecnologias')?.errors &&
                      valorModificarExperiencia('tecnologias')?.touched
                  }"
                  class="form-control"
                  id="inputTecnologias"
                />
                <div
                  *ngIf="
                    valorModificarExperiencia('tecnologias')?.errors &&
                    valorModificarExperiencia('tecnologias')?.touched
                  "
                >
                  <p
                    *ngIf="
                      valorModificarExperiencia('tecnologias')?.hasError(
                        'required'
                      )
                    "
                    class="text-danger"
                  >
                    El campo tecnologias es requerido.
                  </p>
                  <p
                    *ngIf="
                      valorModificarExperiencia('tecnologias')?.hasError(
                        'minlength'
                      )
                    "
                    class="text-danger"
                  >
                    El campo tecnologias debe tener 3 o mas caracteres.
                  </p>
                </div>
              </div>
              <div class="mb-3">
                <label for="inputFechaInicio" class="form-label login-label"
                  >Fecha Inicio</label
                >
                <input
                  type="date"
                  formControlName="fechaInicio"
                  [ngClass]="{
                    'is-invalid':
                      valorModificarExperiencia('fechaInicio')?.errors &&
                      valorModificarExperiencia('fechaInicio')?.touched,
                    'is-valid':
                      !valorModificarExperiencia('fechaInicio')?.errors &&
                      valorModificarExperiencia('fechaInicio')?.touched
                  }"
                  class="form-control"
                  id="inputFechaInicio"
                />
                <div
                  *ngIf="
                    valorModificarExperiencia('fechaInicio')?.errors &&
                    valorModificarExperiencia('fechaInicio')?.touched
                  "
                >
                  <p
                    *ngIf="
                      valorModificarExperiencia('fechaInicio')?.hasError(
                        'required'
                      )
                    "
                    class="text-danger"
                  >
                    El campo fecha inicio es requerido.
                  </p>
                </div>
              </div>
              <div class="mb-3">
                <label for="inputFechaFin" class="form-label login-label"
                  >Fecha Fin</label
                >
                <input
                  type="date"
                  formControlName="fechaFin"
                  class="form-control"
                  id="inputFechaFin"
                />
              </div>
              <div class="mb-3">
                <label for="inputDescripcion" class="form-label login-label"
                  >Descripcion de Experiencia</label
                >
                <input
                  type="text"
                  formControlName="descripcion"
                  [ngClass]="{
                    'is-invalid':
                      valorModificarExperiencia('descripcion')?.errors &&
                      valorModificarExperiencia('descripcion')?.touched,
                    'is-valid':
                      !valorModificarExperiencia('descripcion')?.errors &&
                      valorModificarExperiencia('descripcion')?.touched
                  }"
                  class="form-control"
                  id="inputDescripcion"
                />
                <div
                  *ngIf="
                    valorModificarExperiencia('descripcion')?.errors &&
                    valorModificarExperiencia('descripcion')?.touched
                  "
                >
                  <p
                    *ngIf="
                      valorModificarExperiencia('descripcion')?.hasError(
                        'required'
                      )
                    "
                    class="text-danger"
                  >
                    El campo descripcion es requerido.
                  </p>
                  <p
                    *ngIf="
                      valorModificarExperiencia('descripcion')?.hasError(
                        'minlength'
                      )
                    "
                    class="text-danger"
                  >
                    El campo descripcion debe tener 3 o mas caracteres.
                  </p>
                </div>
              </div>
              <button
                [ngClass]="{
                  disabled: !formModificarExperiencia.valid
                }"
                type="submit"
                class="btn btn-primary btn-solid"
              >
                Enviar
              </button>
              <button
                type="submit"
                class="btn btn-danger btn-ghost ms-1"
                (click)="cerrarFormularioModificacionExperiencia()"
              >
                Cancelar
              </button>
            </form>
          </div>
        </div>
      </div>
      <button
        *ngIf="!agregandoExperiencia && estaAutenticado"
        class="btn btn-primary btn-solid m-3"
        (click)="abrirFormularioCrearExperiencia()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 448 512"
          width="1em"
          height="1em"
        >
          <path
            d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"
          />
        </svg>
      </button>
      <div *ngIf="agregandoExperiencia">
        <form
          [formGroup]="formAgregarExperiencia"
          class="m-3"
          (ngSubmit)="agregarExperiencia($event)"
        >
          <div class="mb-3">
            <label for="inputCliente" class="form-label login-label"
              >Cliente</label
            >
            <input
              type="text"
              formControlName="cliente"
              [ngClass]="{
                'is-invalid':
                  valorAgregarExperiencia('cliente')?.errors &&
                  valorAgregarExperiencia('cliente')?.touched,
                'is-valid':
                  !valorAgregarExperiencia('cliente')?.errors &&
                  valorAgregarExperiencia('cliente')?.touched
              }"
              class="form-control"
              id="inputCliente"
            />
            <div
              *ngIf="
                valorAgregarExperiencia('cliente')?.errors &&
                valorAgregarExperiencia('cliente')?.touched
              "
            >
              <p
                *ngIf="valorAgregarExperiencia('cliente')?.hasError('required')"
                class="text-danger"
              >
                El campo cliente es requerido.
              </p>
              <p
                *ngIf="
                  valorAgregarExperiencia('cliente')?.hasError('minlength')
                "
                class="text-danger"
              >
                El campo cliente debe tener 3 o mas caracteres.
              </p>
            </div>
          </div>
          <div class="mb-3">
            <label for="inputOcupacion" class="form-label login-label"
              >Ocupacion</label
            >
            <input
              type="text"
              formControlName="ocupacion"
              [ngClass]="{
                'is-invalid':
                  valorAgregarExperiencia('ocupacion')?.errors &&
                  valorAgregarExperiencia('ocupacion')?.touched,
                'is-valid':
                  !valorAgregarExperiencia('ocupacion')?.errors &&
                  valorAgregarExperiencia('ocupacion')?.touched
              }"
              class="form-control"
              id="inputOcupacion"
            />
            <div
              *ngIf="
                valorAgregarExperiencia('ocupacion')?.errors &&
                valorAgregarExperiencia('ocupacion')?.touched
              "
            >
              <p
                *ngIf="
                  valorAgregarExperiencia('ocupacion')?.hasError('required')
                "
                class="text-danger"
              >
                El campo ocupacion es requerido.
              </p>
              <p
                *ngIf="
                  valorAgregarExperiencia('ocupacion')?.hasError('minlength')
                "
                class="text-danger"
              >
                El campo ocupacion debe tener 3 o mas caracteres.
              </p>
            </div>
          </div>
          <div class="mb-3">
            <label for="inputTecnologias" class="form-label login-label"
              >Tecnologias</label
            >
            <input
              type="text"
              formControlName="tecnologias"
              [ngClass]="{
                'is-invalid':
                  valorAgregarExperiencia('tecnologias')?.errors &&
                  valorAgregarExperiencia('tecnologias')?.touched,
                'is-valid':
                  !valorAgregarExperiencia('tecnologias')?.errors &&
                  valorAgregarExperiencia('tecnologias')?.touched
              }"
              class="form-control"
              id="inputTecnologias"
            />
            <div
              *ngIf="
                valorAgregarExperiencia('tecnologias')?.errors &&
                valorAgregarExperiencia('tecnologias')?.touched
              "
            >
              <p
                *ngIf="
                  valorAgregarExperiencia('tecnologias')?.hasError('required')
                "
                class="text-danger"
              >
                El campo tecnologias es requerido.
              </p>
              <p
                *ngIf="
                  valorAgregarExperiencia('tecnologias')?.hasError('minlength')
                "
                class="text-danger"
              >
                El campo tecnologias debe tener 3 o mas caracteres.
              </p>
            </div>
          </div>
          <div class="mb-3">
            <label for="inputFechaInicio" class="form-label login-label"
              >Fecha Inicio</label
            >
            <input
              type="date"
              formControlName="fechaInicio"
              [ngClass]="{
                'is-invalid':
                  valorAgregarExperiencia('fechaInicio')?.errors &&
                  valorAgregarExperiencia('fechaInicio')?.touched,
                'is-valid':
                  !valorAgregarExperiencia('fechaInicio')?.errors &&
                  valorAgregarExperiencia('fechaInicio')?.touched
              }"
              class="form-control"
              id="inputFechaInicio"
            />
            <div
              *ngIf="
                valorAgregarExperiencia('fechaInicio')?.errors &&
                valorAgregarExperiencia('fechaInicio')?.touched
              "
            >
              <p
                *ngIf="
                  valorAgregarExperiencia('fechaInicio')?.hasError('required')
                "
                class="text-danger"
              >
                El campo fecha inicio es requerido.
              </p>
            </div>
          </div>
          <div class="mb-3">
            <label for="inputFechaFin" class="form-label login-label"
              >Fecha Fin</label
            >
            <input
              type="date"
              formControlName="fechaFin"
              class="form-control"
              id="inputFechaFin"
            />
          </div>
          <div class="mb-3">
            <label for="inputDescripcion" class="form-label login-label"
              >Descripcion de Experiencia</label
            >
            <input
              type="text"
              formControlName="descripcion"
              [ngClass]="{
                'is-invalid':
                  valorAgregarExperiencia('descripcion')?.errors &&
                  valorAgregarExperiencia('descripcion')?.touched,
                'is-valid':
                  !valorAgregarExperiencia('descripcion')?.errors &&
                  valorAgregarExperiencia('descripcion')?.touched
              }"
              class="form-control"
              id="inputDescripcion"
            />
            <div
              *ngIf="
                valorAgregarExperiencia('descripcion')?.errors &&
                valorAgregarExperiencia('descripcion')?.touched
              "
            >
              <p
                *ngIf="
                  valorAgregarExperiencia('descripcion')?.hasError('required')
                "
                class="text-danger"
              >
                El campo descripcion es requerido.
              </p>
              <p
                *ngIf="
                  valorAgregarExperiencia('descripcion')?.hasError('minlength')
                "
                class="text-danger"
              >
                El campo descripcion debe tener 3 o mas caracteres.
              </p>
            </div>
          </div>
          <button
            [ngClass]="{
              disabled: !formAgregarExperiencia.valid
            }"
            type="submit"
            class="btn btn-primary btn-solid"
          >
            Enviar
          </button>
          <button
            class="btn btn-danger btn-ghost ms-1"
            (click)="cerrarFormularioCrearExperiencia()"
          >
            Cancelar
          </button>
        </form>
      </div>
    </div>
  </div>
</section>
